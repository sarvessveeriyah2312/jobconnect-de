<nav class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-40">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Brand -->
      <div class="flex items-center gap-2">
        <a routerLink="/" class="flex items-center gap-2">
          <div
            class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center"
          >
            <span class="text-white font-bold text-xl">JC</span>
          </div>
          <span
            class="text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent"
          >
            Job Connect-DE
          </span>
        </a>
      </div>

      <!-- Desktop Links -->
      <div class="hidden md:flex items-center gap-6">
        <a
          routerLink="/"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          [routerLinkActiveOptions]="{ exact: true }"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.home' | translate }}
        </a>
        <a
          routerLink="/jobs"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.jobs' | translate }}
        </a>
        <a
          routerLink="/companies"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.companies' | translate }}
        </a>

        @if (isAuthenticated()) {
        <a
          routerLink="/applications"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.applications' | translate }}
        </a>
        <a
          routerLink="/resumes"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.resumes' | translate }}
        </a>
        <a
          routerLink="/profile"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.profile' | translate }}
        </a>
        <a
          routerLink="/admin"
          routerLinkActive="text-primary-600 dark:text-primary-400"
          class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors"
        >
          {{ 'navbar.admin' | translate }}
        </a>
        }
      </div>

      <!-- Right Controls -->
      <div class="flex items-center gap-4">
        <app-language-toggle />
        <app-theme-toggle />

        @if (isAuthenticated()) {
        <div class="hidden md:flex items-center gap-3">
          <span class="text-sm text-gray-700 dark:text-gray-300">
            {{ currentUser()?.name }}
          </span>
          <button
            (click)="authService.logout()"
            class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"
          >
            Logout
          </button>
        </div>
        } @else {
        <div class="hidden md:flex items-center gap-3">
          <a
            routerLink="/login"
            class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"
          >
            {{ 'navbar.login' | translate }}
          </a>
          <a
            routerLink="/register"
            class="px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors"
          >
            {{ 'navbar.register' | translate }}
          </a>
        </div>
        }

        <!-- Mobile Menu Button -->
        <button
          class="md:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition"
          (click)="isMobileMenuOpen = !isMobileMenuOpen"
        >
          <svg
            *ngIf="!isMobileMenuOpen"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 text-gray-700 dark:text-gray-300"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5M3.75 12h16.5M3.75 18.75h16.5" />
          </svg>
          <svg
            *ngIf="isMobileMenuOpen"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 text-gray-700 dark:text-gray-300"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    *ngIf="isMobileMenuOpen"
    class="md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"
  >
    <div class="flex flex-col px-4 py-4 space-y-3">
      <a
        routerLink="/"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.home' | translate }}</a
      >
      <a
        routerLink="/jobs"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.jobs' | translate }}</a
      >
      <a
        routerLink="/companies"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.companies' | translate }}</a
      >

      @if (isAuthenticated()) {
      <a
        routerLink="/applications"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.applications' | translate }}</a
      >
      <a
        routerLink="/resumes"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.resumes' | translate }}</a
      >
      <a
        routerLink="/profile"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.profile' | translate }}</a
      >
      <a
        routerLink="/admin"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.admin' | translate }}</a
      >
      <button
        (click)="authService.logout(); isMobileMenuOpen = false"
        class="text-left text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
      >
        Logout
      </button>
      } @else {
      <a
        routerLink="/login"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.login' | translate }}</a
      >
      <a
        routerLink="/register"
        class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"
        (click)="isMobileMenuOpen = false"
        >{{ 'navbar.register' | translate }}</a
      >
      }
    </div>
  </div>
</nav>
